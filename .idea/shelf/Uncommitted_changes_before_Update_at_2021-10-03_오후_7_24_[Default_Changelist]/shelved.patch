Index: app/src/main/res/layout/cutomdialog.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\" android:orientation=\"vertical\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n\r\n            <ImageView\r\n                android:id=\"@+id/iv_meet\"\r\n                android:layout_width=\"300dp\"\r\n                android:layout_height=\"300dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/ic_launcher_background\" />\r\n\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/cu_meetDate\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n\r\n        android:text=\"시간\"\r\n        android:textColor=\"@color/none\"\r\n        android:layout_margin=\"5dp\">\r\n\r\n    </TextView>\r\n\r\n\r\n    <TextView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"5dp\"\r\n        android:id=\"@+id/cu_meetAge\"\r\n        android:text=\"나이\"\r\n        android:textColor=\"@color/none\">\r\n\r\n    </TextView>\r\n\r\n    <TextView\r\n        android:id=\"@+id/cu_meetGen\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"5dp\"\r\n        android:text=\"성별\"\r\n        android:textColor=\"@color/none\">\r\n\r\n    </TextView>\r\n\r\n    <TextView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"모임인원\"\r\n        android:textColor=\"@color/none\"\r\n        android:id=\"@+id/cu_numMember\"\r\n        android:layout_margin=\"5dp\">\r\n\r\n    </TextView>\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/cu_place\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"위치\"\r\n        android:textColor=\"@color/none\"\r\n        android:layout_margin=\"5dp\">\r\n\r\n    </TextView>\r\n\r\n    <TextView\r\n        android:id=\"@+id/cu_content\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"내용\"\r\n        android:textColor=\"@color/none\"\r\n        android:layout_margin=\"5dp\">\r\n\r\n    </TextView>\r\n\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginRight=\"10dp\"\r\n                android:layout_marginBottom=\"10dp\"\r\n                android:orientation=\"horizontal\"\r\n\r\n                >\r\n\r\n                <Space\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"40\" />\r\n\r\n                <Button\r\n                    android:id=\"@+id/button_go\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_weight=\"15\"\r\n                    android:background=\"@drawable/btn_background\"\r\n                    android:text=\"채팅입장\"\r\n                    android:onClick=\"showDialog\"\r\n                    android:textSize=\"35px\" />\r\n\r\n            </LinearLayout>\r\n\r\n\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n\r\n</LinearLayout>\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/cutomdialog.xml	(revision aa7e7d627677f100738d3896ee7b29f3863a8b59)
+++ app/src/main/res/layout/cutomdialog.xml	(date 1633256633620)
@@ -66,16 +66,26 @@
 
     </TextView>
 
-
-    <TextView
-        android:id="@+id/cu_place"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="위치"
-        android:textColor="@color/none"
-        android:layout_margin="5dp">
-
-    </TextView>
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+        <TextView
+            android:id="@+id/cu_place"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="위치"
+            android:textColor="@color/none"
+            android:layout_margin="5dp">
+        </TextView>
+        <Button
+            android:id="@+id/cu_map"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="지도보기"/>
+
+
+    </LinearLayout>
+
 
     <TextView
         android:id="@+id/cu_content"
Index: app/src/main/java/com/cookandroid/withmetabbar/CustomAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.cookandroid.withmetabbar;\r\n\r\nimport android.app.ActivityOptions;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.res.ColorStateList;\r\nimport android.graphics.Color;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.PopupWindow;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Dimension;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.DialogFragment;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.cookandroid.withmetabbar.certify.JoinStartFragment;\r\nimport com.cookandroid.withmetabbar.certify.MainActivity2;\r\nimport com.cookandroid.withmetabbar.chat.GroupMessageActivity;\r\nimport com.cookandroid.withmetabbar.model.ChatModel;\r\nimport com.cookandroid.withmetabbar.model.Meet;\r\nimport com.cookandroid.withmetabbar.model.Member;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter<CustomAdapter.CustomViewHolder> {\r\n\r\n    private final ArrayList<com.cookandroid.withmetabbar.model.Meet> arrayList;\r\n    private AlertDialog dialog,dialog2;\r\n    private CustomDialog customDialog;\r\n    private final Context context;\r\n    private int userCount=1;\r\n    private Member memberObj = new Member(); // 채팅방 입장을 위한 맴버 객체 생성\r\n    private Button button_check;//캘린더\r\n    private View v_d;\r\n    private TextView tv1, tv2;\r\n    private EditText et1, et2;\r\n\r\n\r\n\r\n\r\n    String myUid = FirebaseAuth.getInstance().getCurrentUser().getUid();//채팅방 구현\r\n\r\n    public CustomAdapter(ArrayList<Meet> arrayList, Context context) {\r\n        this.arrayList = arrayList;\r\n        this.context = context;\r\n    }\r\n\r\n    /**ListView가 어덥터를 만들어 냈을 때 최초로 실행된다.*/\r\n    @NonNull\r\n    @Override\r\n    public CustomViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_meet, parent, false);\r\n\r\n        CustomViewHolder holder = new CustomViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull  CustomViewHolder holder, int position) {\r\n\r\n\r\n        Glide.with(holder.itemView)\r\n                .load(arrayList.get(position).getImgUrl())\r\n                .override(150,200)\r\n                .into(holder.iv_meet);\r\n        holder.tv_meetTitle.setText(\" \"+ arrayList.get(position).getTitle());\r\n        //Log.d(\"custom_imgUrl\",arrayList.get(position).getImgUrl());\r\n        //Log.d(\"holder.itemView\", String.valueOf(holder.itemView));\r\n\r\n        String myFormat = \"yyyy/ MM/ dd/ HH:mm\";    // 출력형식   2018/11/28\r\n        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.KOREA); //string형태로 바뀐다.\r\n        try{\r\n            holder.tv_meetDate.setText(\" \"+sdf.format(arrayList.get(position).getMeetDate().getTime()));\r\n        }catch (Exception e){\r\n\r\n        }\r\n\r\n        //holder.tv_meetDate.setText(\"시간: \"+ arrayList.get(position).getMeetDate());\r\n\r\n        holder.tv_meetAge.setText(\" \"+ arrayList.get(position).getMeetAge());\r\n        //성별\r\n        if (arrayList.get(position).getMeetGen()==1){\r\n            holder.tv_meetGen.setText(\"남\");\r\n            holder.tv_meetGen.setTextColor(Color.parseColor(\"#255AAC\"));\r\n\r\n        }else if (arrayList.get(position).getMeetGen()==2){\r\n            holder.tv_meetGen.setText(\"여\");\r\n            holder.tv_meetGen.setTextColor(Color.parseColor(\"#A5472A\"));\r\n        }else{\r\n            holder.tv_meetGen.setText(\"무관\");\r\n            holder.tv_meetGen.setTextColor(Color.parseColor(\"#555353\"));\r\n        }\r\n        //holder.tv_numMember.setText(\" \"+ arrayList.get(position).getNumMember());\r\n        holder.tv_numMember.setText(\"\"+ arrayList.get(position).getNumMember());\r\n        holder.tv_place.setText(\" \"+ arrayList.get(position).getPlace());\r\n        holder.tv_hobbyCate.setText(\"\"+arrayList.get(position).getHobbyCate());\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //imageView클릭하면 MessageActivity 생성, Firebase dataBase 채팅방 데이터 생성\\\r\n        holder.button_check.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View OnCickview) {\r\n\r\n\r\n\r\n\r\n\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(OnCickview.getContext());\r\n                builder.setTitle((\" \"+ arrayList.get(position).getTitle()));\r\n\r\n\r\n                //View.inflate 이용하여 그 뷰에 해당하는 것을 '구현/실행'해주고,\r\n                v_d = (View) View.inflate(OnCickview.getContext(), R.layout.cutomdialog, null);\r\n                //실행한 것을 setView 함수로 전달.\r\n                builder.setView(v_d);\r\n\r\n\r\n                ImageView cu_iv_meet=v_d.findViewById(R.id.iv_meet);\r\n                TextView cu_meetDate = v_d.findViewById(R.id.cu_meetDate);\r\n                TextView cu_meetAge = v_d.findViewById(R.id.cu_meetAge);\r\n                TextView cu_meetGen = v_d.findViewById(R.id.cu_meetGen);\r\n                TextView cu_numMember = v_d.findViewById(R.id.cu_numMember);\r\n                TextView cu_place = v_d.findViewById(R.id.cu_place);\r\n                TextView cu_content = v_d.findViewById(R.id.cu_content);\r\n                Button button_go = v_d.findViewById(R.id.button_go);\r\n\r\n                //meet정보출력 onClickview\r\n                Glide.with(holder.itemView)\r\n                        .load(arrayList.get(position).getImgUrl())\r\n                        .override(150,200)\r\n                        .into(cu_iv_meet);\r\n\r\n                //Log.d(\"custom_imgUrl\",arrayList.get(position).getImgUrl());\r\n                //Log.d(\"holder.itemView\", String.valueOf(holder.itemView));\r\n\r\n                String myFormat = \"yyyy/ MM/ dd/ HH:mm\";    // 출력형식   2018/11/28\r\n                SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.KOREA); //string형태로 바뀐다.\r\n                try{\r\n                    cu_meetDate.setText(\" \"+sdf.format(arrayList.get(position).getMeetDate().getTime()));\r\n                }catch (Exception e){\r\n\r\n                }\r\n\r\n                cu_meetAge.setText(\" \"+ arrayList.get(position).getMeetAge());\r\n                //성별\r\n                if (arrayList.get(position).getMeetGen()==1){\r\n                    cu_meetGen.setText(\"남\");\r\n                    cu_meetGen.setTextColor(Color.parseColor(\"#255AAC\"));\r\n\r\n                }else if (arrayList.get(position).getMeetGen()==2){\r\n                    cu_meetGen.setText(\"여\");\r\n                    cu_meetGen.setTextColor(Color.parseColor(\"#A5472A\"));\r\n                }else{\r\n                    cu_meetGen.setText(\"무관\");\r\n                    cu_meetGen.setTextColor(Color.parseColor(\"#555353\"));\r\n                }\r\n                //holder.tv_numMember.setText(\" \"+ arrayList.get(position).getNumMember());\r\n                cu_numMember.setText(\"\"+ arrayList.get(position).getNumMember());\r\n                cu_place.setText(\" \"+ arrayList.get(position).getPlace());\r\n                cu_content.setText(\"\"+arrayList.get(position).getHobbyCate());\r\n\r\n                button_go.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        try{\r\n\r\n                            //제한 사항이 맞는지 검사.\r\n                            //user의 Gen, Age 가 meet의(또는 chatroom의) Gen, Age 와 동일한지 확인\r\n                            //userData 가져오기\r\n                            List<Member> members = new ArrayList<>();\r\n\r\n                            String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\n                            FirebaseDatabase.getInstance().getReference().child(\"users\").child(uid).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                                    //member 객체에 user에서 받아온 값 넣기\r\n                                    Member member = snapshot.getValue(Member.class);\r\n                                    memberObj.mGen =member.mGen;\r\n                                    memberObj.mAge =member.mAge;\r\n\r\n\r\n                                    List<String> keysChatroomUsers = new ArrayList<>();//chatrooms - uid -users 의 uid 값들을 답을 리스트\r\n                                    //구조변경\r\n                                    //채팅방에서 userCount 받아오기 chatrooms - chatroom uid(=meet uid)\r\n                                    FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(arrayList.get(position).mid).child(\"users\").addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                        @Override\r\n                                        public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n\r\n\r\n                                            for (DataSnapshot item : snapshot.getChildren()){\r\n                                                keysChatroomUsers.add(item.getKey());\r\n                                            }\r\n                                            userCount = keysChatroomUsers.size(); //chatroom에 있는 user의 수\r\n\r\n\r\n                                            boolean agePass = memberObj.mAge>arrayList.get(position).getMeetAge();\r\n                                            boolean genPass = memberObj.mGen>=arrayList.get(position).getMeetGen() || (arrayList.get(position).getMeetGen()==0) ;\r\n                                            boolean numMemberPass =( userCount < arrayList.get(position).getNumMember() );\r\n\r\n\r\n                                            //조건 비교\r\n                                            try {\r\n                                                if (  agePass && genPass && numMemberPass){\r\n\r\n\r\n                                                    Map<String,Object> map = new HashMap<>();\r\n                                                    map.put(myUid,true);\r\n\r\n                                                    Intent intent = new Intent (v.getContext(), GroupMessageActivity.class);\r\n\r\n                                                    //chatrooms의 user에 내 uid 넣는것.\r\n                                                    FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(arrayList.get(position).mid)\r\n                                                            .child(\"users\").updateChildren(map);\r\n\r\n                                                    //chatroom 의 userCount에 현재 userCount 넣기.\r\n                                                    userCount += 1;\r\n                                                    FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(arrayList.get(position).mid)\r\n                                                            .child(\"userCount\").setValue(userCount);\r\n\r\n                                                    intent.putExtra(\"destinationRoom\",arrayList.get(position).mid);// 채팅방을 띄우기 위한 chatroom uid 전송.\r\n\r\n\r\n\r\n                                                    ActivityOptions activityOptions = ActivityOptions.makeCustomAnimation(v.getContext(),R.anim.fromright,R.anim.toleft);\r\n                                                    v.getContext().startActivity(intent,activityOptions.toBundle());\r\n\r\n                                                }else {\r\n\r\n                                                    //조건 불만족시 처리\r\n                                                    if (agePass==false){\r\n                                                        AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\r\n                                                        dialog = builder.setMessage(\"모임 연령을 확인하세요. 모임연령: \"+arrayList.get(position).getMeetAge())\r\n                                                                .setNegativeButton(\"OK\", null)\r\n                                                                .create();\r\n                                                        dialog.show();\r\n                                                    }else if (genPass ==false ){\r\n                                                        AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\r\n                                                        dialog = builder.setMessage(\"모임 성별을 확인하세요.\")\r\n                                                                .setNegativeButton(\"OK\", null)\r\n                                                                .create();\r\n                                                        dialog.show();\r\n                                                    }else {\r\n                                                        AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\r\n                                                        dialog = builder.setMessage(\"인원이 마감되었습니다.\")\r\n                                                                .setNegativeButton(\"OK\", null)\r\n                                                                .create();\r\n                                                        dialog.show();\r\n                                                    }\r\n//\r\n                                                }\r\n                                            }catch (Exception e){\r\n                                                Toast.makeText(v.getContext(), e.getMessage(),  Toast.LENGTH_SHORT);\r\n                                            }\r\n\r\n\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                                }\r\n                            });\r\n\r\n\r\n\r\n\r\n\r\n                        }catch (Exception e){\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n//                builder.setButton(\"입력\",\r\n//                        new DialogInterface.OnClickListener() {\r\n//                            @Override\r\n//                            public void onClick(DialogInterface dialogInterface, int i) {\r\n//\r\n//                                //dialog라는 레이아웃이 실제로 생성(inflate)되고 난 다음에, v_d라는 애를 통해서,\r\n//                                //그 안에 속한 것 중에서 찾아오는 것이 가능하다.\r\n//                                //setPositiveButton이 눌리게 되었을 때, dialog에 해당하는 우리가 만든 View (=v_d)로부터 et를 찾아옴\r\n//                                et1 = (EditText) v_d.findViewById(R.id.et_mail);\r\n//                                et2 = (EditText) v_d.findViewById(R.id.et_name);\r\n//\r\n//                                //사용자에게 입력받은 et1, et2를 tv1, tv2에 표시\r\n//                                tv1.setText(et1.getText());\r\n//                                tv2.setText(et2.getText());\r\n//\r\n//                            }\r\n//                        });\r\n\r\n                builder.show();\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n//        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n//            @Override\r\n//            public void onClick(View view) {\r\n\r\n\r\n\r\n//                try{\r\n//\r\n//                    //제한 사항이 맞는지 검사.\r\n//                    //user의 Gen, Age 가 meet의(또는 chatroom의) Gen, Age 와 동일한지 확인\r\n//                    //userData 가져오기\r\n//                    List<Member> members = new ArrayList<>();\r\n//\r\n//                    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n//\r\n//                    FirebaseDatabase.getInstance().getReference().child(\"users\").child(uid).addListenerForSingleValueEvent(new ValueEventListener() {\r\n//                        @Override\r\n//                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//\r\n//                            //member 객체에 user에서 받아온 값 넣기\r\n//                            Member member = snapshot.getValue(Member.class);\r\n//                            memberObj.mGen =member.mGen;\r\n//                            memberObj.mAge =member.mAge;\r\n//\r\n//\r\n//                            List<String> keysChatroomUsers = new ArrayList<>();//chatrooms - uid -users 의 uid 값들을 답을 리스트\r\n//                            //구조변경\r\n//                            //채팅방에서 userCount 받아오기 chatrooms - chatroom uid(=meet uid)\r\n//                            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(arrayList.get(position).mid).child(\"users\").addListenerForSingleValueEvent(new ValueEventListener() {\r\n//                                @Override\r\n//                                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n//\r\n//\r\n//                                    for (DataSnapshot item : snapshot.getChildren()){\r\n//                                        keysChatroomUsers.add(item.getKey());\r\n//                                    }\r\n//                                    userCount = keysChatroomUsers.size(); //chatroom에 있는 user의 수\r\n//\r\n//\r\n//                                    boolean agePass = memberObj.mAge>arrayList.get(position).getMeetAge();\r\n//                                    boolean genPass = memberObj.mGen>=arrayList.get(position).getMeetGen() || (arrayList.get(position).getMeetGen()==0) ;\r\n//                                    boolean numMemberPass =( userCount < arrayList.get(position).getNumMember() );\r\n//\r\n//\r\n//                                    //조건 비교\r\n//                                    try {\r\n//                                        if (  agePass && genPass && numMemberPass){\r\n//\r\n//\r\n//                                            Map<String,Object> map = new HashMap<>();\r\n//                                            map.put(myUid,true);\r\n//\r\n//                                            Intent intent = new Intent (view.getContext(), GroupMessageActivity.class);\r\n//\r\n//                                            //chatrooms의 user에 내 uid 넣는것.\r\n//                                            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(arrayList.get(position).mid)\r\n//                                                    .child(\"users\").updateChildren(map);\r\n//\r\n//                                            //chatroom 의 userCount에 현재 userCount 넣기.\r\n//                                            userCount += 1;\r\n//                                            FirebaseDatabase.getInstance().getReference().child(\"chatrooms\").child(arrayList.get(position).mid)\r\n//                                                    .child(\"userCount\").setValue(userCount);\r\n//\r\n//                                            intent.putExtra(\"destinationRoom\",arrayList.get(position).mid);// 채팅방을 띄우기 위한 chatroom uid 전송.\r\n//\r\n//\r\n//\r\n//                                            ActivityOptions activityOptions = ActivityOptions.makeCustomAnimation(view.getContext(),R.anim.fromright,R.anim.toleft);\r\n//                                            view.getContext().startActivity(intent,activityOptions.toBundle());\r\n//\r\n//                                        }else {\r\n//\r\n//                                            //조건 불만족시 처리\r\n//                                            if (agePass==false){\r\n//                                                AlertDialog.Builder builder = new AlertDialog.Builder(view.getContext());\r\n//                                                dialog = builder.setMessage(\"모임 연령을 확인하세요. 모임연령: \"+arrayList.get(position).getMeetAge())\r\n//                                                        .setNegativeButton(\"OK\", null)\r\n//                                                        .create();\r\n//                                                dialog.show();\r\n//                                            }else if (genPass ==false ){\r\n//                                                AlertDialog.Builder builder = new AlertDialog.Builder(view.getContext());\r\n//                                                dialog = builder.setMessage(\"모임 성별을 확인하세요.\")\r\n//                                                        .setNegativeButton(\"OK\", null)\r\n//                                                        .create();\r\n//                                                dialog.show();\r\n//                                            }else {\r\n//                                                AlertDialog.Builder builder = new AlertDialog.Builder(view.getContext());\r\n//                                                dialog = builder.setMessage(\"인원이 마감되었습니다.\")\r\n//                                                        .setNegativeButton(\"OK\", null)\r\n//                                                        .create();\r\n//                                                dialog.show();\r\n//                                            }\r\n////\r\n//                                        }\r\n//                                    }catch (Exception e){\r\n//                                        Toast.makeText(view.getContext(), e.getMessage(),  Toast.LENGTH_SHORT);\r\n//                                    }\r\n//\r\n//\r\n//                                }\r\n//\r\n//                                @Override\r\n//                                public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n//\r\n//                                }\r\n//                            });\r\n//                        }\r\n//\r\n//                        @Override\r\n//                        public void onCancelled(@NonNull DatabaseError error) {\r\n//\r\n//                        }\r\n//                    });\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//                }catch (Exception e){\r\n//\r\n//                }\r\n\r\n\r\n//            }\r\n//        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return (arrayList !=null ? arrayList.size() : 0);\r\n    }\r\n    /**MeetViewHolder*/\r\n    public class CustomViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView iv_meet;\r\n        TextView tv_meetTitle,tv_meetDate, tv_meetAge, tv_numMember, tv_meetGen, tv_place, tv_hobbyCate;\r\n        ImageView img_meetDate, img_place;\r\n        Button button_check;\r\n\r\n\r\n\r\n\r\n\r\n\r\n        public CustomViewHolder(@NonNull View itemView) {\r\n\r\n\r\n\r\n\r\n            super(itemView);\r\n            this.iv_meet=itemView.findViewById(R.id.iv_meet);\r\n            this.tv_meetTitle=itemView.findViewById(R.id.tv_meetTitle);\r\n            this.tv_meetDate=itemView.findViewById(R.id.tv_meetDate);\r\n            this.tv_meetAge=itemView.findViewById(R.id.tv_meetAge);\r\n            this.tv_numMember=itemView.findViewById(R.id.tv_numMember);\r\n            this.tv_meetGen=itemView.findViewById(R.id.tv_meetGen);\r\n            this.tv_place=itemView.findViewById(R.id.tv_place);\r\n            this.tv_hobbyCate=itemView.findViewById(R.id.tv_hobbyCate);\r\n            this.img_meetDate=itemView.findViewById(R.id.img_meetDate);\r\n            this.img_place=itemView.findViewById(R.id.img_place);\r\n            this.button_check=itemView.findViewById(R.id.button_check);\r\n\r\n\r\n\r\n            tv_meetTitle.setTextSize(Dimension.SP, 17);\r\n            tv_meetAge.setTextSize(Dimension.SP, 16);\r\n            tv_numMember.setTextSize(Dimension.SP, 16);\r\n            tv_meetGen.setTextSize(Dimension.SP, 16);\r\n            tv_place.setEllipsize(TextUtils.TruncateAt.END);\r\n            tv_place.setMaxLines(10);\r\n            tv_place.setSelected(true);\r\n            tv_place.setSingleLine(true);\r\n            tv_meetDate.setTextColor(Color.parseColor(\"#3E3B3B\"));\r\n            tv_meetAge.setTextColor(Color.parseColor(\"#3E3B3B\"));\r\n            tv_numMember.setTextColor(Color.parseColor(\"#3E3B3B\"));\r\n            tv_place.setTextColor(Color.parseColor(\"#3E3B3B\"));\r\n            img_meetDate.setColorFilter(Color.parseColor(\"#F49C19\"));\r\n            img_place.setColorFilter(Color.parseColor(\"#F49C19\"));\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/cookandroid/withmetabbar/CustomAdapter.java	(revision aa7e7d627677f100738d3896ee7b29f3863a8b59)
+++ app/src/main/java/com/cookandroid/withmetabbar/CustomAdapter.java	(date 1633256633608)
@@ -7,6 +7,9 @@
 import android.content.Intent;
 import android.content.res.ColorStateList;
 import android.graphics.Color;
+import android.location.Address;
+import android.location.Geocoder;
+import android.net.Uri;
 import android.text.TextUtils;
 import android.util.Log;
 import android.view.LayoutInflater;
@@ -41,6 +44,7 @@
 
 import org.jetbrains.annotations.NotNull;
 
+import java.io.IOException;
 import java.text.SimpleDateFormat;
 import java.util.ArrayList;
 import java.util.HashMap;
@@ -58,8 +62,8 @@
     private Member memberObj = new Member(); // 채팅방 입장을 위한 맴버 객체 생성
     private Button button_check;//캘린더
     private View v_d;
-    private TextView tv1, tv2;
-    private EditText et1, et2;
+
+
 
 
 
@@ -155,6 +159,7 @@
                 TextView cu_place = v_d.findViewById(R.id.cu_place);
                 TextView cu_content = v_d.findViewById(R.id.cu_content);
                 Button button_go = v_d.findViewById(R.id.button_go);
+                Button cu_map = v_d.findViewById(R.id.cu_map);
 
                 //meet정보출력 onClickview
                 Glide.with(holder.itemView)
@@ -190,6 +195,43 @@
                 cu_numMember.setText(""+ arrayList.get(position).getNumMember());
                 cu_place.setText(" "+ arrayList.get(position).getPlace());
                 cu_content.setText(""+arrayList.get(position).getHobbyCate());
+                cu_map.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        final Geocoder geocoder = new Geocoder(context);
+                        List<Address> list = null;
+
+                        String address = cu_place.getText().toString();
+                        try {
+                            list = geocoder.getFromLocationName
+                                    (address, // 지역 이름
+                                            10); // 읽을 개수
+                        } catch (IOException e) {
+                            e.printStackTrace();
+                            Log.e("test","입출력 오류 - 서버에서 주소변환시 에러발생");
+                        }
+
+                        if (list != null) {
+                            if (list.size() == 0) {
+                                Toast.makeText(context,"해당되는 주소 정보는 없습니다.",Toast.LENGTH_SHORT).show();
+                            } else {
+                                // 해당되는 주소로 인텐트 날리기
+                                Address addr = list.get(0);
+                                double lat = addr.getLatitude();
+                                double lon = addr.getLongitude();
+
+                                String sss = String.format("geo:%f,%f", lat, lon);//위도경도로 포맷
+
+                                Intent intent = new Intent(
+                                        Intent.ACTION_VIEW, //보여줘라
+                                        Uri.parse(sss));//위도경도를가지고
+                                context.startActivity(intent);
+
+
+                            }
+                        }
+                    }
+                });
 
                 button_go.setOnClickListener(new View.OnClickListener() {
                     @Override
